"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[440],{2440:function(e,n,i){i.r(n),i.d(n,{default:function(){return R}});var t=i(885),l=i(2791),o=i(5289),r=i(5661),d=i(9157),s=i(7123),c=i(6151),u=i(703),a=i(8870),v=i(890),h=i(3044),x=i(748),f=i(3400),j=i(4721),Z=i(7247),p=i(2430),w=i(6030),y=i(2426),m=i.n(y),g=i(1554),C=i(184),b=function(){return(0,C.jsx)(a.Z,{sx:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,C.jsx)(g.Z,{})})},k=i(3255),I=i(6362),D=function(e){var n=e.modalDetails,i=e.setModalDetails,t=e.handleDelete,l=function(){i({})};return(0,C.jsxs)(o.Z,{open:null===n||void 0===n?void 0:n.open,onClose:l,children:[(0,C.jsx)(r.Z,{id:"alert-dialog-title",children:"Are you sure do you want to delete this review?"}),(0,C.jsx)(d.Z,{}),(0,C.jsxs)(s.Z,{children:[(0,C.jsx)(c.Z,{onClick:l,autoFocus:!0,children:"No"}),(0,C.jsx)(c.Z,{onClick:t,children:"Yes"})]})]})},R=function(e){var n=e.setReviewModal,i=e.id,o=e.loggedIn,r=(0,w.I0)(),d=(0,l.useState)(0),s=(0,t.Z)(d,2),y=s[0],g=s[1],R=(0,l.useState)({}),M=(0,t.Z)(R,2),A=M[0],H=M[1],L=(0,w.v9)((function(e){return e.product})),N=L.review,O=L.reviewLoading,T=L.likedReview,_=(0,l.useRef)(),z=(0,l.useCallback)((function(e){_.current&&_.current.disconnect(),_.current=new IntersectionObserver((function(e){e[0].isIntersecting&&0===y&&(r((0,k.Tn)(i)),g(1))})),e&&_.current.observe(e)}),[r,i,y]);return(0,l.useEffect)((function(){return function(){r((0,k.ib)())}}),[r,i]),(0,C.jsxs)(u.Z,{style:{width:"100%"},ref:z,children:[(null===A||void 0===A?void 0:A.open)&&(0,C.jsx)(D,{modalDetails:A,setModalDetails:H,handleDelete:function(){r((0,I.i0)(null===A||void 0===A?void 0:A.id)),H({})}}),(0,C.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",style:{borderBottom:"1px solid grey"},children:[(0,C.jsx)(v.Z,{variant:"h5",children:"Top Reviews"}),(0,C.jsx)(c.Z,{variant:"outlined",onClick:n,children:"Add Review"})]}),O?(0,C.jsx)(b,{}):N&&N.length>0?N.map((function(e,n){return(0,C.jsxs)(a.Z,{children:[(0,C.jsxs)(a.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,C.jsxs)(a.Z,{display:"flex",alignItems:"center",gap:"8px",children:[(0,C.jsx)(h.Z,{children:(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.name.at(0))}),(0,C.jsx)(v.Z,{variant:"body1",children:null===e||void 0===e?void 0:e.name})]}),(0,C.jsx)(v.Z,{variant:"subtitle2",children:m()(null===e||void 0===e?void 0:e.time).fromNow()})]}),(0,C.jsx)(a.Z,{width:"100%",children:(0,C.jsx)(x.Z,{name:"read-only",value:null===e||void 0===e?void 0:e.rating,readOnly:!0})}),(0,C.jsx)(v.Z,{variant:"body2",gutterBottom:!0,children:null===e||void 0===e?void 0:e.review}),(0,C.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",children:[(0,C.jsx)(a.Z,{children:(0,C.jsx)(c.Z,{color:T.includes(null===e||void 0===e?void 0:e._id)?"primary":"inherit",startIcon:(0,C.jsx)(p.Z,{}),onClick:function(){return function(e){T.includes(e)||r((0,k.CH)(e))}(null===e||void 0===e?void 0:e._id)},children:(null===e||void 0===e?void 0:e.like)||0})}),(0,C.jsx)(a.Z,{children:o&&(0,C.jsx)(f.Z,{"aria-label":"delete",color:"error",onClick:function(){!function(e){H({open:!0,id:e})}(null===e||void 0===e?void 0:e._id)},children:(0,C.jsx)(Z.Z,{})})})]}),n<N.length-1&&(0,C.jsx)(j.Z,{})]},n)})):(0,C.jsx)(v.Z,{textAlign:"center",children:"No Review"})]})}},2430:function(e,n,i){var t=i(5318);n.Z=void 0;var l=t(i(5649)),o=i(184),r=(0,l.default)((0,o.jsx)("path",{d:"m13.11 5.72-.57 2.89c-.12.59.04 1.2.42 1.66.38.46.94.73 1.54.73H20v1.08L17.43 18H9.34c-.18 0-.34-.16-.34-.34V9.82l4.11-4.1M14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.83C7 18.95 8.05 20 9.34 20h8.1c.71 0 1.36-.37 1.72-.97l2.67-6.15c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2zM4 9H2v11h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1z"}),"ThumbUpOffAlt");n.Z=r}}]);
//# sourceMappingURL=440.cd5ae3f9.chunk.js.map