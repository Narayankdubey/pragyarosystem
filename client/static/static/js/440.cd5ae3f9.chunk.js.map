{"version":3,"file":"static/js/440.cd5ae3f9.chunk.js","mappings":"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","sources":["component/UI/loader/index.js","component/products/productDetails/component/review.js","../node_modules/@mui/icons-material/ThumbUpOffAlt.js"],"sourcesContent":["import React from \"react\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Box from \"@mui/material/Box\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        width: \"100%\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      <CircularProgress />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useEffect, useRef, useCallback, useState } from \"react\";\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  Rating,\r\n  Divider,\r\n  Button,\r\n  Avatar,\r\n  Box,\r\n  IconButton,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n} from \"@mui/material\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport ThumbUpOffAltIcon from \"@mui/icons-material/ThumbUpOffAlt\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\n\r\nimport Loader from \"../../../UI/loader\";\r\n\r\nimport {\r\n  getReview,\r\n  clearReview,\r\n  increaseReviewLike,\r\n} from \"../../../../store/product-action\";\r\nimport { deleteReview } from \"../../../../store/admin-action\";\r\n\r\nconst ReviewDeleteModal = ({ modalDetails, setModalDetails, handleDelete }) => {\r\n  const handleClose = () => {\r\n    setModalDetails({});\r\n  };\r\n  return (\r\n    <Dialog open={modalDetails?.open} onClose={handleClose}>\r\n      <DialogTitle id=\"alert-dialog-title\">\r\n        Are you sure do you want to delete this review?\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {/* <DialogContentText id=\"alert-dialog-description\">\r\n            Let Google help apps determine location. This means sending anonymous\r\n            location data to Google, even when no apps are running.\r\n          </DialogContentText> */}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} autoFocus>\r\n          No\r\n        </Button>\r\n        <Button onClick={handleDelete}>Yes</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nconst Review = ({ setReviewModal, id, loggedIn }) => {\r\n  const dispatch = useDispatch();\r\n  const [load, setLoad] = useState(0);\r\n  const [deleteModal, setDeleteModal] = useState({});\r\n\r\n  const { review, reviewLoading, likedReview } = useSelector((state) => state.product);\r\n\r\n  const observer = useRef();\r\n\r\n  const deleteHandle = (id) => {\r\n    setDeleteModal({ open: true, id });\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    dispatch(deleteReview(deleteModal?.id));\r\n    // setTimeout(() => dispatch(getReview(id)), 1500);\r\n    setDeleteModal({});\r\n  };\r\n\r\n  const increaseLike = (id) => {\r\n    if (!likedReview.includes(id)) dispatch(increaseReviewLike(id));\r\n  };\r\n\r\n  const lastBookElementRef = useCallback(\r\n    (node) => {\r\n      if (observer.current) observer.current.disconnect();\r\n      observer.current = new IntersectionObserver((entries) => {\r\n        if (entries[0].isIntersecting) {\r\n          if (load === 0) {\r\n            dispatch(getReview(id));\r\n            setLoad(1);\r\n          }\r\n        }\r\n      });\r\n      if (node) observer.current.observe(node);\r\n    },\r\n    [dispatch, id, load]\r\n  );\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(clearReview());\r\n    };\r\n  }, [dispatch, id]);\r\n\r\n  return (\r\n    <Paper style={{ width: \"100%\" }} ref={lastBookElementRef}>\r\n      {deleteModal?.open && (\r\n        <ReviewDeleteModal\r\n          modalDetails={deleteModal}\r\n          setModalDetails={setDeleteModal}\r\n          handleDelete={handleDelete}\r\n        />\r\n      )}\r\n      <Box\r\n        display={\"flex\"}\r\n        justifyContent=\"space-between\"\r\n        alignItems={\"center\"}\r\n        style={{ borderBottom: \"1px solid grey\" }}\r\n      >\r\n        <Typography variant=\"h5\">Top Reviews</Typography>\r\n        <Button variant=\"outlined\" onClick={setReviewModal}>\r\n          Add Review\r\n        </Button>\r\n      </Box>\r\n\r\n      {reviewLoading ? (\r\n        <Loader />\r\n      ) : review && review.length > 0 ? (\r\n        review.map((item, index) => (\r\n          <Box key={index}>\r\n            <Box\r\n              display={\"flex\"}\r\n              alignItems={\"center\"}\r\n              justifyContent={\"space-between\"}\r\n            >\r\n              <Box display={\"flex\"} alignItems={\"center\"} gap={\"8px\"}>\r\n                <Avatar>{item?.name && item?.name.at(0)}</Avatar>\r\n                <Typography variant=\"body1\">{item?.name}</Typography>\r\n              </Box>\r\n              <Typography variant=\"subtitle2\">\r\n                {moment(item?.time).fromNow()}\r\n              </Typography>\r\n            </Box>\r\n            <Box width={\"100%\"}>\r\n              <Rating name=\"read-only\" value={item?.rating} readOnly />\r\n            </Box>\r\n            {/* <Typography variant=\"h6\">Heading</Typography> */}\r\n            <Typography variant=\"body2\" gutterBottom>\r\n              {item?.review}\r\n            </Typography>\r\n            <Box display={\"flex\"} justifyContent={\"space-between\"}>\r\n              <Box>\r\n                <Button\r\n                  color={likedReview.includes(item?._id) ? \"primary\" : \"inherit\"}\r\n                  startIcon={<ThumbUpOffAltIcon />}\r\n                  onClick={() => increaseLike(item?._id)}\r\n                >\r\n                  {item?.like || 0}\r\n                </Button>\r\n                {/* <Button startIcon={<ThumbDownOffAltIcon />}>{1}</Button> */}\r\n              </Box>\r\n              <Box>\r\n                {loggedIn && (\r\n                  <IconButton\r\n                    aria-label=\"delete\"\r\n                    color=\"error\"\r\n                    onClick={() => {\r\n                      deleteHandle(item?._id);\r\n                    }}\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n            {index < review.length - 1 && <Divider />}\r\n          </Box>\r\n        ))\r\n      ) : (\r\n        <Typography textAlign={\"center\"}>No Review</Typography>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default Review;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m13.11 5.72-.57 2.89c-.12.59.04 1.2.42 1.66.38.46.94.73 1.54.73H20v1.08L17.43 18H9.34c-.18 0-.34-.16-.34-.34V9.82l4.11-4.1M14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.83C7 18.95 8.05 20 9.34 20h8.1c.71 0 1.36-.37 1.72-.97l2.67-6.15c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2zM4 9H2v11h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1z\"\n}), 'ThumbUpOffAlt');\n\nexports.default = _default;"],"names":["Box","sx","display","width","justifyContent","alignItems","height","CircularProgress","ReviewDeleteModal","modalDetails","setModalDetails","handleDelete","handleClose","Dialog","open","onClose","DialogTitle","id","DialogContent","DialogActions","Button","onClick","autoFocus","setReviewModal","loggedIn","dispatch","useDispatch","useState","load","setLoad","deleteModal","setDeleteModal","useSelector","state","product","review","reviewLoading","likedReview","observer","useRef","lastBookElementRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","getReview","observe","useEffect","clearReview","Paper","style","ref","deleteReview","borderBottom","Typography","variant","length","map","item","index","gap","Avatar","name","at","moment","time","fromNow","Rating","value","rating","readOnly","gutterBottom","color","includes","_id","startIcon","ThumbUpOffAlt","increaseReviewLike","increaseLike","like","IconButton","deleteHandle","Delete","Divider","textAlign","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}